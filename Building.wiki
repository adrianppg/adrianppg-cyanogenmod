=Building !CyanogenMod Stable=

==Getting repo==
Follow the steps [http://source.android.com/download here] to set up repo for your system

==Setting Up==
  #. Create an empty directory to hold your working files.
    {{{
    $ mkdir source
    $ cd source
    }}}
  #. Initialize repo.
    {{{
    $ repo init -u git://github.com/abstrakraft/android-manifest.git
    }}}

==Downloading the Code==
  #. Sync the repository.  This step may take awhile.
    {{{
    $ repo sync
    }}}

===HTC Dream Only: Download Proprietary Code===
  #. Plug your G1 in via USB.
  #. Download the HTC G1 proprietary files.
    {{{
    $ cd vendor/htc/dream-open
    $ ./extract-files.sh
    }}}

==Building==
  #. Targets supported by this build process are:
    * htc_dream-eng
    * generic-eng
  #. Setup the environment.  Replace `<target>` with a target from the list above.
    {{{
    $ source build/envsetup.sh
    $ lunch <target>
    }}}
  #. Compile
    {{{
    $ make
    }}}
  #. If make errors with a message like "No rule to make target `run-java-tool'", execute the following command.
    {{{
    $ export ANDROID_JAVA_HOME=$JAVA_HOME
    }}}
    Explanation: Some distributions' java executables are symlinks to run-java-tool, which is generally a script that determines the appropriate jvm and tool to use.  Unfortunately, this interrupts Android's ability to determine the proper Java home directory, so it must be set manually.

==Current Issues==
This process does not yet build cm-kernel, and has not yet been tested on a device.